"use strict";function scrollMenu(e,t,n,i){var a,s=document.querySelector(e);if(t){var o=document.querySelector(t);a=o?o.clientHeight:0}else a=0;function r(e){window.setTimeout(e,1e3/60)}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||r,function(e,t,n){function i(e){e.preventDefault(),a=o?o.clientHeight:0;var i=document.querySelector(this.hash);i&&function(e,t,n){var i=e||0;i+=2,t=t||2e3,n=n||"easeOutSine";var a=window.pageYOffset,s=0,o=Math.max(.1,Math.min(Math.abs(a-i)/t,.8)),r={easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)}};!function e(){var t=(s+=1/60)/o,l=r[n](t);t<1?(window.requestAnimFrame(e),window.scrollTo(0,a+(i-a)*l)):window.scrollTo(0,i)}()}(i.getBoundingClientRect().top+window.pageYOffset-a,t,n)}var s=void 0,r=e.querySelectorAll('a[href^="#"]');for(s=0;s<r.length;s+=1)r[s].addEventListener("click",i)}(s,n,i),document.addEventListener("scroll",(function(){!function(e){var t=void 0,n=void 0,i=void 0,s=e.querySelectorAll('a[href^="#"]'),o=window.pageYOffset;for(t=0;t<s.length;t+=1)if(n=s[t],i=document.querySelector(n.getAttribute("href"))){var r=i.getBoundingClientRect().top+o-a;r<=o&&r+i.clientHeight>o?n.classList.add("active"):n.classList.remove("active")}}(s)}))}function nav(){var e=document.querySelector(".navi"),t=document.querySelector(".nav__list"),n=document.querySelector("body"),i=document.querySelector(".nav__close"),a=document.querySelector(".head__socials");function s(){e.classList.remove("active"),t.classList.remove("active"),n.classList.remove("lock"),i.classList.remove("active"),_.style.display="none",a&&a.classList.remove("active")}document.querySelector(".nav__burger").addEventListener("click",(function(){e.classList.add("active"),t.classList.add("active"),n.classList.add("lock"),i.classList.add("active"),a&&a.classList.add("active")})),i.addEventListener("click",s);var o,r,l,c,d,u,v,m,f,h=t.querySelectorAll('a[href^="#"]');for(k=0;k<h.length;k+=1)h[k].addEventListener("click",s);r=0,l=0,c=0,d=0,u=10,v=0,m=0,f=1,(o=e).addEventListener("touchstart",(function(e){r=e.changedTouches[0].screenX,l=e.changedTouches[0].screenY,v=(new Date).getTime()}),{passive:!0}),o.addEventListener("touchend",(function(e){var t,n,i,a,s,h;c=e.changedTouches[0].screenX,d=e.changedTouches[0].screenY,m=(new Date).getTime(),t=c-r,n=d-l,i=Math.abs(t),a=Math.abs(n),h=a/(s=m-v),(i/s>f||h>f)&&(i>u&&i>a&&(t<0?o.dispatchEvent(new CustomEvent("onSwipeLeft")):o.dispatchEvent(new CustomEvent("onSwipeRight"))),a>u&&a>i&&(n<0?o.dispatchEvent(new CustomEvent("onSwipeUp")):o.dispatchEvent(new CustomEvent("onSwipeDown"))))})),e.addEventListener("onSwipeUp",s);var p=document.querySelector(".logo");document.addEventListener("scroll",(function(){window.pageYOffset?p.classList.add("scroll"):p.classList.remove("scroll")}));var g=document.querySelector("[data-city]"),w=document.querySelector(".region__content"),y=document.querySelector(".region-content__city"),_=document.querySelector(".region__list"),S=document.querySelectorAll("[data-link]"),L=document.querySelectorAll("[data-tel_text]"),q=localStorage.getItem("city");if(q){g.textContent=q,y.textContent=q;for(var E=document.querySelector('[value = "'+q+'"]').dataset.tel,k=0;k<S.length;k++)S[k].setAttribute("href","tel:"+E);for(k=0;k<L.length;k++)L[k].textContent=E}document.querySelector("[data-show]").onclick=function(){window.innerWidth<768?(_.style.display="",S[0].style.opacity="0"):w.style.display=""},document.querySelector("[data-change]").onclick=function(){w.style.display="none",_.style.display=""},document.querySelector("[data-save]").onclick=function(){var e=document.querySelector('input[name="region"]:checked');if(e){for(var t=e.value,n=e.dataset.tel,i=0;i<S.length;i++)S[i].setAttribute("href","tel:"+n);for(i=0;i<L.length;i++)L[i].textContent=n;y.textContent=t,g.textContent=t,localStorage.setItem("city",t),window.innerWidth<768?e.checked=!1:w.style.display=""}_.style.display="none",S[0].style.opacity="1"},document.querySelector("[data-yes]").onclick=function(){var e=document.querySelector('input[name="region"]:checked');if(e){var t=e.value;g.textContent=t,w.style.display="none",e.checked=!1}else w.style.display="none"}}function showText(){for(var e=document.querySelectorAll("[data-id]"),t=0;t<e.length;t++)e[t].onclick=function(){for(var t=0;t<e.length;t++)e[t].classList.remove("active");this.classList.add("active");var a=this.getAttribute("data-id"),s=document.querySelectorAll("[data-text]");for(t=0;t<s.length;t++){var o=s[t];i.call(o)}setTimeout((function(){var e=document.querySelector('[data-text="'+a+'"]');n.call(e)}),540)};function n(){if("none"==this.style.display||"none"==getComputedStyle(this).display){this.style.overflow="hidden",this.style.display="block";var e=this.offsetHeight;this.style.height="0px",setTimeout((function(t){t.style.height=e+"px"}),20,this)}}function i(){if("none"!=this.style.display&&"none"!=getComputedStyle(this).display){this.style.overflow="hidden";var e=this.offsetHeight;this.style.height=e+"px",setTimeout((function(e){e.style.height="0px"}),20,this),setTimeout((function(e){e.style.display="none",e.style.height=""}),540,this)}}}function maskInput(){var e=document.getElementById("tel");e&&Inputmask({mask:"+7(999) 999-9999"}).mask(e);var t=document.getElementById("tel2");t&&Inputmask({mask:"+7(999) 999-9999"}).mask(t);var n=document.getElementById("email"),i=document.getElementById("email2"),a={mask:"*{1,20}[.*{1,20}][.*{1,20}][.*{1,20}]@*{1,20}[.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(e,t){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",casing:"lower"}}};n&&Inputmask(a).mask(n),i&&Inputmask(a).mask(i)}function initMap(){var e=new google.maps.LatLng(68.970665,33.07497),t=document.getElementById("map");if(t)var n=new google.maps.Map(t,{center:e,zoom:15,disableDefaultUI:!0});var i=new google.maps.Marker({position:e,map:n,title:"Текст всплывающей подсказки"}),a=new google.maps.InfoWindow({content:'<div class="map_info"><span>Наш офис</span><p> Коминтерна ул., 5 д., 208 оф.<br> Мурманск г., Мурманская обл. </p></div>'});a.open(n,i),i.addListener("click",(function(){a.open(n,i)}))}objectFitImages(),function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){for(var e=document.querySelectorAll("a, button, label, input"),t=!1,n=0;n<e.length;n++){var i=e[n];"LABEL"!==i.tagName&&i.classList.add("focus"),i.addEventListener("mousedown",(function(){this.classList.remove("focus"),t=!0})),i.addEventListener("keydown",(function(e){"Tab"===e.key&&(t=!1)})),i.addEventListener("focus",(function(){t&&this.classList.remove("focus")})),i.addEventListener("blur",(function(){this.classList.add("focus")}))}}(),scrollMenu(".nav__list",".head__top",1e4),nav(),showText(),maskInput(),function(){var e=document.querySelectorAll("[required]"),t=document.querySelectorAll(".select-custom__btn");if(t)for(var n=0;n<t.length;n++)t[n].addEventListener("click",i);function i(){this.classList.remove("invalid"),this.closest(".form__item").querySelector("select").classList.remove("invalid"),a.call(this)}function a(){var e=this.closest(".form__item").querySelector(".error");e&&(e.classList.remove("active"),e.addEventListener("transitionend",(function(){this.classList.contains("active")||(e.innerHTML="")})))}if(e)for(n=0;n<e.length;n++)e[n].addEventListener("blur",o),e[n].addEventListener("focus",s);function s(){var e=this.closest(".form__item");if(this.classList.remove("invalid"),a.call(this),"SELECT"==this.tagName){var t=e.querySelector(".select-custom__btn");t&&t.classList.remove("invalid"),a.call(this)}}function o(){var e=this.closest(".form__item"),t=e.querySelector(".error");if(this.validity.valid)return 0;if(this.classList.add("invalid"),t&&(t.classList.add("active"),t.innerHTML="ошибка / неправильный формат",(this.validity.valueMissing||""===this.value)&&(t.innerHTML="ошибка / заполните поле")),"SELECT"==this.tagName){var n=e.querySelector(".select-custom__btn");n&&n.classList.add("invalid"),t&&(t.classList.add("active"),t.innerHTML="ошибка / сделайте выбор")}return 1}var r,l=document.querySelectorAll("[data-rating]");if(l)for(n=0;n<l.length;n++){var c=l[n].querySelectorAll("input");for(n=0;n<c.length;n++)c[n].addEventListener("focus",d)}function d(){this.closest("[data-rating]").classList.remove("invalid"),a.call(this)}function u(){var e=this.closest(".form__item").querySelector(".error");return this.querySelector('[name="rating"]').checked?(this.classList.add("invalid"),e&&(e.classList.add("active"),e.innerHTML="ошибка / сделайте выбор"),1):0}function v(e){var t=this.hasAttribute("data-test");r=this.getAttribute("data-message");var n=this.querySelector("[data-rating]"),i=this.querySelectorAll("[required]"),a=this.querySelector('input[name="agree"]'),s=0;if(!a||a.checked){n&&(s+=u.call(n));for(var l=0;l<i.length;l++)(s+=o.call(i[l]))&&e.preventDefault()}else e.preventDefault(),s++;return t&&0===s&&(e.preventDefault(),s++,this.reset(),h.call(this,"test")),s}var m=document.querySelectorAll("form");if(m)for(n=0;n<m.length;n++)m[n].addEventListener("submit",f);function f(e){e.preventDefault();var t=this;if(0===v.call(t,e)){this.classList.add("_sending","show");var n=new FormData(this),i=new XMLHttpRequest;i.open("POST",this.getAttribute("action")),i.send(n),i.onloadend=function(){if(200==this.status){t.reset();var e=t.querySelector("select");e&&(e.options[0].selected="selected",e.dispatchEvent(new Event("change"))),t.classList.remove("show"),h.call(t,i.response)}else alert("Ошибка"+this.status),t.classList.remove("show")}}}function h(e){if(r){var t=document.querySelector("#dialog-"+r),n=this.closest(".dialog-backdrop");if(t){var i=t.querySelector("[data-message-text]");i&&(i.textContent=e),n?window.replaceDialog("dialog-"+r):window.openDialog("dialog-"+r,this)}}}}(),google.maps.event.addDomListener(window,"load",initMap);var mySwiper2=new Swiper(".we__swiper",{loop:!0,grabCursor:!0,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".we__next_slide",prevEl:".we__prev_slide"},pagination:{el:".we__swiper-pagination",clickable:!0},breakpoints:{768:{}}}),mySwiper1=(mySwiper2=new Swiper(".team__swiper",{loop:!0,autoHeight:!0,grabCursor:!0,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".team__next_slide",prevEl:".team__prev_slide"},pagination:{el:".team__swiper-pagination",clickable:!0},breakpoints:{768:{}}}),new Swiper(".reviews__swiper",{loop:!0,autoHeight:!0,grabCursor:!0,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".reviews__next_slide",prevEl:".reviews__prev_slide"},pagination:{el:".reviews__swiper-pagination",clickable:!0},breakpoints:{768:{}}}));if(window.innerWidth<768)var mySwiper=new Swiper(".news__swiper",{loop:!0,grabCursor:!0,navigation:{nextEl:".news__next_slide",prevEl:".news__prev_slide"},pagination:{el:".news__swiper_pagination",clickable:!0}});mySwiper=new Swiper(".art__swiper",{loop:!0,direction:"vertical",spaceBetween:20,slidesPerView:2,grabCursor:!0,navigation:{nextEl:".art__next_slide",prevEl:".art__prev_slide"},breakpoints:{768:{slidesPerView:2,slidesPerColumn:1,direction:"horizontal"}}});if(window.innerWidth<768)mySwiper=new Swiper(".art-news__swiper",{loop:!0,grabCursor:!0,navigation:{nextEl:".art-news__next_slide",prevEl:".art-news__prev_slide"},pagination:{el:".art-news__swiper_pagination",clickable:!0}});